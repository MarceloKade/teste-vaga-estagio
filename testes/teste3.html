<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Adivinhe o próximo número</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f8f9fa;
        }

        .custom-box {
            background-color: #fff;
            border: 1px solid #ced4da;
            border-radius: .25rem;
            padding: 5rem 10rem;
        }
    </style>
</head>

<body>
    <div class="container">
        <form id="adivinhe" class="form-group mt-5 custom-box">
            <ul class="list-unstyled d-flex" style="margin-left: -140px; margin-top: -75px">
                <li>
                    <a class=" btn btn-primary mt-3" href="../index.html">Voltar</a>
                </li>
            </ul>
            <h1 class="text-center">Adivinhe o número</h1>
            <label id="texto" for="aposta" class="text-center ">Vamos jogar um jogo? Tente adivinhar qual é o próximo
                número,
                pense
                bem, clique no botão abaixo para começar o jogo! Boa sorte!</label>
            <div id="iniciarAposta">
            </div>
            <button id="button" type="button" class="btn btn-primary mt-3">Começar</button>
            <p id="resultado" class="mt-3 text-center font-monospace font-weight-bold lead"></p>
        </form>
    </div>
    <script>

        // Adiciona evento para acionar o botão com a tecla Enter
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                document.getElementById("button").click();
                event.preventDefault();
            }
        });
        // Função que limpa o valor do input com id "aposta".
        function limpaInput() {
            document.getElementById("aposta").value = ''
            setTimeout(limpaMensagem, 3000);
        }

        // Fimção que limpa a mensagem de resultado
        function limpaMensagem() {
            document.getElementById("resultado").innerHTML = ''
        }

        // Função que atualiza o texto exibido na caixa de resultado.
        function texto(texto) {
            return document.getElementById("resultado").innerHTML = texto
        }
        let input;

        /*
        Verifica o resultado da soma de números e exibe uma mensagem indicando se o usuário acertou ou errou.
        Se o usuário informar um número inválido ou deixar o campo em branco, exibe uma mensagem de erro.
        */


        document.getElementById("button").addEventListener("click", function () {

            // Verifica se o input já foi criado
            if (document.getElementById("aposta")) {
                return;
            }

            // Cria o input
            input = document.createElement("input");
            input.id = "aposta";
            input.className = "form-control";
            input.placeholder = "Informe o resultado";
            let aposta = document.getElementById("iniciarAposta");
            aposta.appendChild(input);

            document.getElementById("aposta").focus();



            // Altera o texto do botão
            document.getElementById("button").textContent = "Submit";
            //Altera o texto do id 'texto'
            document.getElementById("texto").innerHTML = "Qual o próximo número? 1, 3, 5, 7, (<strong>?</strong>)"

            // Verifica se a aposta é igual a 9
            document.getElementById("button").addEventListener("click", function () {
                aposta = input.value.trim();

                // Verifica se o campo do input está vazio antes de enviar.
                if (aposta === "") {
                    texto("Por favor, informe um número.");
                    limpaInput();
                    return;
                }

                // Se o número for inválido, exibe uma mensagem de erro e limpa o input.
                if (isNaN(aposta)) {
                    texto("Por favor, informe um número válido.");
                    limpaInput();
                    return;
                }

                let valorAposta = parseInt(input.value);

                //sequencia de if e else, referentes a cada questão do teste, se errar, continua na mesma pergunta, se acertar, passa para a próxima pergunta
                if (valorAposta !== 9) {
                    document.getElementById("resultado").innerHTML = "Que pena, tente novamente!";
                    limpaInput()
                } else {
                    document.getElementById("resultado").innerHTML = "Parabéns, você acertou! Vamos pra próxima.";
                    limpaInput()
                    setTimeout(function () {
                        document.getElementById("texto").innerHTML = "Qual o próximo número? 2, 4, 8, 16, 32, 64, (<strong>?</strong>)"
                    }, 3000);
                    return;
                }
                if (valorAposta !== 128) {
                    document.getElementById("resultado").innerHTML = "Que pena, tente novamente!";
                    limpaInput()
                } else {
                    document.getElementById("resultado").innerHTML = "Parabéns, você acertou! Vamos pra próxima.";
                    limpaInput()
                    setTimeout(function () {
                        document.getElementById("texto").innerHTML = "Qual o próximo número? 0, 1, 4, 9, 16, 25, 36, (<strong>?</strong>)"
                    }, 3000);
                    return;
                }
                if (valorAposta !== 49) {
                    document.getElementById("resultado").innerHTML = "Que pena, tente novamente!";
                    limpaInput()
                } else {
                    document.getElementById("resultado").innerHTML = "Parabéns, você acertou! Vamos pra próxima.";
                    limpaInput()
                    setTimeout(function () {
                        document.getElementById("texto").innerHTML = "Qual o próximo número? 4, 16, 36, 64, (<strong>?</strong>)"
                    }, 3000);
                    return;
                }
                if (valorAposta !== 100) {
                    document.getElementById("resultado").innerHTML = "Que pena, tente novamente!";
                    limpaInput()
                } else {
                    document.getElementById("resultado").innerHTML = "Parabéns, você acertou! Vamos pra próxima.";
                    limpaInput()
                    setTimeout(function () {
                        document.getElementById("texto").innerHTML = "Qual o próximo número? 1, 1, 2, 3, 5, 8, (<strong>?</strong>)"
                    }, 3000);
                    return;
                }
                if (valorAposta !== 13) {
                    document.getElementById("resultado").innerHTML = "Que pena, tente novamente!";
                    limpaInput()
                } else {
                    document.getElementById("resultado").innerHTML = "Parabéns, você acertou! Vamos pra próxima.";
                    limpaInput()
                    setTimeout(function () {
                        document.getElementById("texto").innerHTML = "Qual o próximo número? 2, 10, 12, 16, 17, 18, 19, (<strong>?</strong>)"
                    }, 3000);
                    return;
                }
                if (valorAposta !== 20) {
                    document.getElementById("resultado").innerHTML = "Que pena, tente novamente!";
                    limpaInput()
                } else {
                    document.getElementById("resultado").innerHTML = "Parabéns, você zerou o jogo! Atualize o navegador para jogar novamente.";

                    document.getElementById("texto").innerHTML = ""
                    return;
                }
            });
        });


    </script>
</body>

</html>